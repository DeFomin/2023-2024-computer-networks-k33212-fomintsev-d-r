## Практическая работа № 6.
## Оглавление
- [Трансляция адресов (NAT) в Cisco Packet Tracer.](#section1)
  - [Цель работы](#section1.1)  
  - [Краткие теоретические сведения](#section1.2)
  - [Требования](#section1.3)
- [Ход работы](#section1.4)
  - [Построение схемы](#section1.5)
  - [](#section1.6)
  - [](#section1.7)
- [Вывод](#section2)


## <a name="section1">Трансляция адресов (NAT) в Cisco Packet Tracer.</a>

## <a name="section1.1">Цель работы</a>

Закрепить понимание принципов работы NAT, а также сформировать начальные навыки в конфигурировании NAT и Firewall в Cisco Packet Tracer. 

## <a name="section1.2">Краткие теоретическме сведения</a>  

NAT (Network Address Translation) – технология стека TCP\IP. Она позволяет модифицировать заголовки пересылаемых через NAT IP-пакетов и TCP\UDP сообщений.  

NAT в общем случае представляет собой компьютер или аппаратный маршрутизатор, подключенный одним интерфейсом к внешней сети, а другими к внутренней. Оба интерфейса имеют IP адреса в каждой из сетей. Типичным применением NAT является обеспечение доступа из локальной сети с приватными IP-адресами к ресурсам внешней сети с IP-адресами интернет. При передаче запроса от локального клиента к внешнему ресурсу подменяется сокет отправителя: IP адрес меняется на внешний IP адрес NAT, а порт на свободный порт на внешнем интерфейсе NAT. Когда приходит ответ от внешнего ресурса, происходит обратная замена сокета и пакет передается в локальную сеть получателю. Так же с помощью NAT можно публиковать локальные сокеты на реальном IP адресе и реальном порту. Например, для обеспечения доступа извне к Web серверу, расположенному в локальной сети. В этом случае на NAT делается статическое отображение внешнего сокета на внутренний.
 Публичный IP адрес (Белый IP) - адрес-это глобально маршрутизируемый одноадресный IP-адрес, что означает, что этот адрес не является адресом, зарезервированным для использования в частных сетях, таких как сети, зарезервированные RFC 1918, или различные форматы адресов IPv6 локальной области или локальной области сайта, например для локальной адресации канала
Частный IP адрес (Серый IP)  -  
    • От 10.0.0.0 до 10.255.255.255 с маской 255.0.0.0.0 (сеть класса А - около 16 млн. адресов)  
    • От 172.16.0.0 до 172.31.255.255 с маской 255.240.0.0 (сеть класса B - около 65 тыс. адресов)   
    • От 192.168.0.0 до 192.168.255.255 с маской 255.255.255.0 (сеть класса С - около 256 адресов)  

**Определение:** Субинтерфейс представляет собой виртуальный интерфейс, созданный на основе физического сетевого интерфейса. Это позволяет использовать один физический интерфейс для передачи данных между несколькими логическими (виртуальными) сетями.  
Использование: Субинтерфейсы часто используются в сетях с технологией VLAN (Virtual Local Area Network), где различные виртуальные сети могут существовать на одном физическом кабеле.  

## <a name="section1.3">Требования</a>

для выполнения работы необходима установка симулятора CISCO PacketTracer.

## <a name="section1.4">Ход работы</a>

## <a name="section1.5">Построение схемы</a>

Изменения, внесенные в нашу сеть:  
  * Маршрутизатор, который маршрутизирует  трафик из существующей сети наружу  
  * Сервер, эмулирующий сервер в сети Интернет  
  * Маршрутизатор, который эмулирует провайдера
  * Удаленный коммутатор 3 уровня, поскольку он не нужен, ведь теперь трафик может маршрутизироваться маршрутизатором. В таком случае VLAN’ы будут приземляться на машртутизаторе, поэтому порт коммутатора L2, который подсоединяется к маршрутизатору, будет trunk.

<p align=center><img src="https://github.com/DeFomin/2023-2024-computer-networks-k33212-fomintsev-d-r/assets/90705279/b3e9afac-3938-438b-b9df-4a3d08216367" width=900></p>

Все существующие VLAN в базу данных маршрутизатора сети, так как раньше они были на коммутаторе L3. Затем необходимо было создать субинтерфейсы для каждого из VLAN, и назначить на каждый из них IP-адрес.

<p align=center><img src="https://github.com/DeFomin/2023-2024-computer-networks-k33212-fomintsev-d-r/assets/90705279/613fa480-58d1-49e4-a6bd-751d44d4a554" width=900></p>

Пример для Vlan 10:
```
vlan database
vlan 10 name VLAN-10

conf t
int fa 0/0.100
encapsulation dot1Q 100
ip address 10.10.0.254 255.255.255.0
```

<p align=center><img src="https://github.com/DeFomin/2023-2024-computer-networks-k33212-fomintsev-d-r/assets/90705279/ca06af15-3875-48e9-a881-e6e158445bf7" width=900></p>

Теперь сервер больше не выступает в качестве DHCP-сервера, необходимо настроить его на маршрутизаторе. Для каждого VLAN был создан свой набор IP-адресов

<p align=center><img src="https://github.com/DeFomin/2023-2024-computer-networks-k33212-fomintsev-d-r/assets/90705279/d122cf21-5106-4e63-ada2-de1fa6034c60" width=900></p>

Просмотреть информацию о DHCP:

```
Router# show ip dhcp pool
```

<p align=center><img src="https://github.com/DeFomin/2023-2024-computer-networks-k33212-fomintsev-d-r/assets/90705279/6d645da3-4bb7-469b-875d-1b1821b9fdf3" width=900></p>





























