# Практическая работа № 2.
## Оглавление
- [Организация отказоустойчивой сети на основе коммутаторов. Протоколы STP и EtherChannel.](#section1)
  - [Цель работы](#section1.1)  
  - [Краткие теоретические сведения](#section1.2)
  - [Требования](#section1.3)
- [Ход работы](#section1.4)


## <a name="section1">Организация отказоустойчивой сети на основе коммутаторов. Протоколы STP и EtherChannel.</a>

## <a name="section1.1">Цель работы</a>

Целью данной лабораторной работы является изучение и практическое ознакомление с основными принципами работы концентраторов и коммутаторов второго уровня в компьютерных сетях, а также организация отказоустойчивой сети на основе коммутаторов.

## <a name="section1.2">Краткие теоретическме сведения</a>  

Методы организации отказоустойчивых каналов связи:

1) Резервирование соединений. Традиционная избыточная топология. Используются протоколы SТР и RSTP.
Spanning Tree Protocol (STP, протокол покрывающего дерева) — канальный протокол. Основной задачей STP является устранение петель в топологии произвольной сети Ethernet, в которой есть один или более сетевых мостов, связанных избыточными соединениями. STP решает эту задачу, автоматически блокируя соединения, которые в данный момент для полной связности коммутаторов являются избыточными. Необходимость устранения топологических петель в сети Ethernet следует из того, что их наличие в реальной сети Ethernet с коммутатором с высокой вероятностью приводит к бесконечным повторам передачи одних и тех же кадров Ethernet одним и более коммутатором, отчего пропускная способность сети оказывается почти полностью занятой этими бесполезными повторами; в этих условиях, хотя формально сеть может продолжать работать, на практике её производительность становится настолько низкой, что может выглядеть как полный отказ сети. STP относится ко второму уровню модели OSI. Протокол описан в стандарте IEEE 802.1D, выработанным рабочей группой IEEE 802.1 по межсетевому взаимодействию. Если в сети с мостовыми подключениями (в сегменте сети из коммутаторов) имеется несколько путей, могут образоваться циклические маршруты, и следование простым правилам пересылки данных через мост (коммутатор) приведёт к тому, что один и тот же пакет будет бесконечно передаваться с одного моста на другой (передаваться по кольцу из коммутаторов). Алгоритм остовного дерева позволяет по мере необходимости автоматически отключать передачу через мост в отдельных портах (блокировать порты коммутатора), чтобы предотвратить зацикливание в топологии маршрутов пересылки пакетов. Для использования алгоритма остовного дерева в сетевом мосте никакой дополнительной настройки не требуется. С момента создания исходного стандарта IEEE 802.1D было разработано несколько разновидностей протоколов STP. К разновидностям протоколов STP относятся следующие: 

 STP. Это исходная версия IEEE 802.1D (802.1D-1998 и более ранняя), которая предотвращает формирование петель в топологии сети с резервными каналами. Общий протокол spanning-tree (CST): предполагает использование только одного экземпляра протокола spanning-tree для всей сети с мостовым соединением независимо от количества сетей VLAN.  
 Быстрый протокол STP (RSTP) или IEEE 802.1w: доработанный протокол STP, который обеспечивает более быстрое схождение, чем протокол STP.  
 PVST+ является усовершенствованным протоколом компании Cisco, в котором для каждого отдельного VLAN используется отдельный экземпляр RSTP. Рассматриваемый вариант протокола spanning-tree поддерживает PortFast, UplinkFast, BackboneFast, BPDU guard, BPDU filter, root guard и loop guard.  
 Rapid PVST+: усовершенствованный корпорацией Cisco протокол RSTP, который использует PVST+. Rapid PVST+ предоставляет отдельный экземпляр 802.1w для каждой сети VLAN. Каждый отдельный экземпляр поддерживает функции PortFast, BPDU guard, BPDU filter, root guard и loop guard.  
 … еще несколько подобных протоколов.  

Коммутаторы Cisco под управлением IOS 15.0 или более поздней версии по умолчанию запускают PVST+. Эта версия содержит множество спецификаций IEEE 802.1D-2004, таких как альтернативные порты вместо бывших неназначенных портов. Однако, чтобы использовать протокол RSTP, коммутаторы должны быть явно настроены на быстрый режим связующего дерева.

2) Агрегирование каналов - объединение нескольких физических каналов в один логический. Используется протокол EtherChannel. Возможны варианты агрегирования:
    ◦ Динамическое агрегирование  
        ▪ LACP (Link Aggregation Control Protocol)  
        ▪ PAgP (Port Aggregation Protocol)  
            
Поскольку оба протокола присутствуют в оборудовании Cisco, то лучше использовать LACP поскольку он является стандартизированным.
        ◦ Статическое агрегирование  

Для использования протокола EtherChannel  необходимо чтобы порты имели одинаковые:

● скорость (speed),  
● режим дуплекса (duplex mode),  
● native VLAN,  
● диапазон разрешенных VLAN,  
● статус порта (trunk или access),  
● тип интерфейса.  

EtherСhannel — это технология, позволяющая объединять (агрегировать) несколько физических проводов (каналов, портов) в единый логический интерфейс. Как правило, это используется для повышения отказоустойчивости и увеличения пропускной способности канала. Обычно, для соединения критически важных узлов (коммутатор-коммутатор, коммутатор-сервер и др.). Само слово EtherChannel введено компанией Cisco и все, что связано с агрегированием, она включает в него. Другие вендоры агрегирование называют по-разному. Huawei называет это Link Aggregation, D-Link называет LAG и так далее.

## <a name="section1.3">Требования</a>

Для выполнения работы необходима установка симулятора CISCO PacketTracer.

## <a name="section1.4">Ход работы</a>
